metadata:
  project: toy_data_set
  phylogenetic_tree: "%(PROJDIR)%/toy_data_in/phylogentictree.txt"
  phenotype_table: "%(PROJDIR)%/toy_data_in/phenotypes.txt"
  output_directory: "%(PROJDIR)%/toy_data_out"
  number_of_cores: 4

genotype_tables:
  tables:
    - table: 'gpa'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: none
      datatype: text

    - table: 'gpa.l1'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: l1
      datatype: text

    - table: 'gpa.l2'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: l2
      datatype: text

    - table: 'gpa.std'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: std
      datatype: text

    - table: 'gpa.01'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: zero2one
      datatype: text

    - table: 'gpa.bin'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: binary
      datatype: text

    - table: 'gpa.percent'
      path: "%(PROJDIR)%/toy_data_in/genotype_table.txt"
      preprocessing: percent
      datatype: text

    - table: 'genexp'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: none
      datatype: numerical
      delimeter: ","

    - table: 'genexp.percent'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: percent
      datatype: numerical
      delimeter: ","

    - table: 'genexp.l1'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: l1
      datatype: numerical
      delimeter: ","

    - table: 'genexp.l2'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: l2
      datatype: numerical
      delimeter: ","

    - table: 'genexp.std'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: std
      datatype: numerical
      delimeter: ","

    - table: 'genexp.01'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: zero2one
      datatype: numerical
      delimeter: ","

    - table: 'genexp.bin'
      path: "%(PROJDIR)%/toy_data_in/genexp.csv"
      preprocessing: binary
      datatype: numerical
      delimeter: ","

    - sequence: '6mer'
      path: "%(PROJDIR)%/toy_data_in/sequences/"
      preprocessing: l1
      k_value: 6


predictions:
  - prediction: "amrprediction"
    label_mapping:
      1: 1
      0: 0
    features:
      - feature: "k-mer"
        list: ['6mer']
        validation_tuning:
          name: "amrkmer_cv"
          train:
            method: "treebased"
            folds: 10
          test:
            method: "random"
            ratio: 0.1
          inner_cv: 10
      - feature: "exp_kmer"
        list: ["genexp.bin","6mer"]
        use_validation_tuning: "amrkmer_cv"
    optimize_for: "scores_f1_1"
    reporting: ['accuracy', 'f1']
    classifiers:
      svm:
        hyperparameters: "%(config)%/svm/svm_ext.json"